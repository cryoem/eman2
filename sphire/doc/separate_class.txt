~~NOTOC~~

===== sp_separate_class =====
Separate Into Classes : Separates stacks of particle images into stacks for each class.

\\
===== Usage =====

Usage in command line:

  sp_separate_class.py input_class_avgs input_image_stack output_directory --filtrad=filter_radius --apix=pixel_size --shrink=shrink_factor --align_isac_dir=isac_directory --verbose
  
  
\\
===== Typical usage =====

The purpose of sp_separate_class.py is to: 

  : extract particle-membership information from a stack of class averages
  : write particle-membership lists for each class, and
  : write separate stacks for each class, with an option to low-pass filter and/or downsample the images

\\ __1. Standard usage: create separate stacks for each class__:

  sp_separate_class.py input_class_avgs input_image_stack output_directory 

\\ __2. Apply a low-pass filter to the image stacks__:

  sp_separate_class.py input_class_avgs input_image_stack output_directory --filtrad=filter_radius --apix=pixel_size

Filter radius is in units of Angstroms. If apix parameter is not specified, program will assume units of pixels^-1.

\\ __3. Downsample output image stack__:

  sp_separate_class.py input_class_avgs input_image_stack output_directory --shrink=shrink_factor
  
\\ __4. Apply alignments from ISAC to output image stacks__:

  sp_separate_class.py input_class_avgs input_image_stack output_directory --align_isac_dir=isac_directory
  
\\ __5. Apply ISAC alignments, filter, and shrink__:

  sp_separate_class.py input_class_avgs input_image_stack output_directory --align_isac_dir=isac_directory --filtrad=filter_radius --shrink=shrink_factor
  
\\
===== Input =====
=== Main Parameters ===
  ; input_class_avgs : Input class averages : Set of 2D class averages, with particle-membership information in header. (default required string)
  ; input_image_stack : Input particles : Particle image stack. Note that, if applying ISAC alignments, alignments are relative to class_averages.hdf and not ordered_class_averages.hdf (default required string)
  ; output_directory : Output directory : Directory where outputs will be written. (default required string)
  ; %%--%%filtrad : Filter radius : Gaussian low-pass filter radius, Angstroms if apix specified below, else pixels^-1. (default None)
  ; %%--%%apix : Pixel size : Angstroms per pixel of input image stack (as opposed to class averages, which might be downsampled). (default None)
  ; %%--%%shrink : Downsampling factor : Downsampling factor, e.g., 6 -> 1/6 original size. (default None)
  ; %%--%%align_isac_dir : ISAC directory : Directory for ISAC output, for applying alignments. (default None)
  ; %%--%%verbose : Verbose : Writes additional messages to the terminal during execution. (default False)
  
\\
=== Advanced Parameters ===

\\
===== Output =====
  ; Docs/classmap.txt : Class-to-particle lookup table, one file for all classes
  ; Docs/docclass???.txt : List of particles for each class, one file per class
  ; EMAN2DB/stkclass_???.bdb : Virtual stacks of particles for each class
  ; Stacks/stkflt_???.mrcs : Stacks of filtered particles for each class
  ; Stacks/stkalign_???.mrcs : Stacks of aligned particles for each class
 
\\
===== Description =====

\\
==== Method ====

\\
==== Reference ====

\\
==== Developer Notes ====
  : Should allow filter types other than Gaussian low-pass

\\
==== Author / Maintainer ====
Tapu Shaikh

\\
==== Keywords ====
Category 1:: APPLICATIONS

\\
==== Files ====
sphire/bin/sp_separate_class.py

\\
==== See also ====

\\
==== Maturity ====
Beta:: Under evaluation and testing. Please let us know if there are any bugs.

\\
==== Bugs ====
There are no known bugs so far.

\\
